import bpy, math
from mathutils import Vector

name = 'TestPyramid'

origin = Vector()
origin.zero()

(x,y,z) = (0.707107, 0.258819, 0.965926)


faces = ((1,0,4), (4,2,1), (4,3,2), (4,0,3), (0,1,2,3))
i=0
for i in range(-4,4):
    
    verts = ((x+2*i,x,-1), (x+2*i,-x,-1), (-x+2*i,-x,-1), (-x+2*i,x,-1), (0+2*i,0,1))
    
    me = bpy.data.meshes.new(name+'Mesh'+str(i+4))
    ob = bpy.data.objects.new(name + str(i+4), me)

    ob.location = origin
    ob.show_name = False

    scn = bpy.context.scene
    scn.objects.link(ob)
    scn.objects.active = ob
    ob.select = False
 
    me.from_pydata(verts, [], faces)
    me.update()
    i = i + 1